<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <link rel="stylesheet" type="text/css" href="jqq.css">
    <script type="application/javascript" src="jquery-2.1.3.min.js"></script>
    <!--   <script type="application/javascript" src="animateBackground-plugin.js"></script>-->
       <script type="application/javascript" src="plugin.js"></script>
  <!--<ie 也没办法了>-->
    <!--    <script type="application/javascript" src="插件.js"></script>  -->

    </head>
    <body>
    <div class="time">
        <span class="s1">
        <i class="i1"></i>
        <i class="i2"></i>
        <i class="i3"></i>
        <i class="i4"></i>
            <strong> Days </strong>
       </span>
         <span class="s2">
        <i class="i1"></i>
        <i class="i2"></i>
             <strong> Hours </strong>
       </span>
         <span class="s3">
        <i class="i1"></i>
        <i class="i2"></i>
             <strong> Minutes </strong>
       </span>
         <span class="s4">
        <i class="i1"></i>
        <i class="i2"></i>
             <strong> Seconds</strong>
       </span>

    </div>

    <div class="bc"></div>

    </body>
    <script>

        function insert_time(ar) {//往标签里插
            for (var i = 0; i < $('span').length; i++) {
                //  for(var m = 0 ; m < ar.length ; m++ )//  修改为用闭包 （练习）
                $('span:eq(' + i + ')').html(ar[i]);
            }
        }

        function zero(o) {    //1,2 -->>01 ,02 ,
        if (o <= 9) {
            o = '' + '0' + o;
            return o
        } else {
            return o
        }
    }

    function syjhz() { //岁月静好


        var iNow = new Date();

        var iOld = new Date(1995, 2, 11, 0, 0, 0);

        var year = iOld.getFullYear();
        var month = iOld.getMonth();

        var millisecond = iNow.getTime() - iOld.getTime();

        var nume = millisecond / (60 * 60 * 1000 * 24);


        var nDay = Math.floor(nume);

        var nDayM = nDay * 60 * 60 * 1000 * 24;


        var n = (millisecond - nDayM) / (60 * 60 * 1000);


        var nHours = Math.floor((millisecond - nDayM) / (60 * 60 * 1000));

        var nHoursM = nHours * 60 * 60 * 1000;


        var nMinutes = Math.floor((millisecond - nDayM - nHoursM) / (60 * 1000));
        var nMinutesM = nMinutes * 60 * 1000;

        var nSeconds = Math.floor((millisecond - nDayM - nHoursM - nMinutesM) / 1000);
        var nSecondsM = nSeconds * 1000;
        var nMill = millisecond - nDayM - nHoursM - nMinutesM - nSecondsM;

        var arr = [nDay, nHours, zero(nMinutes), zero(nSeconds)];//不能加引号（单双） 加了为字符
        //console.log(arr[3]);
        //  insert_time(arr);
        $('em').html('天 ' + nDay + ' 时 ' + nHours + ' 分钟 ' + nMinutes + ' 秒 ' + nSeconds);
        //  console.log(nSeconds);
        fn(arr[0], '.s1');
        fn(arr[1], '.s2');
        fn(arr[2], '.s3');
        fn(arr[3], '.s4');

    }


    function fn(figure, parEle) {
        var str_figure = figure.toString();
        var arr_figure = str_figure.split('');
        for (var m = 0; m < arr_figure.length; m++) {
            (function () {
                return back(arr_figure[m], m, parEle);
            })(arr_figure[m], m, parEle);
            // 0  i = 0;
        }

    }


    // var $ii = $('i').eq(0);
    /* var $ii = $('i :eq(0)');
     console.log($ii);
     */


    function back(digit, n, parEl) {//背景图片
        //  console.log(digit,n);  // 接受到的是字符

        // var m = parseInt(n);
        //var $ii = $('i :eq(0)');
        // var $i = $('i');
        //  console.log($i[0]);
        switch (parseInt(digit)) {//数字
            case 0:

                // $('i :eq('+m+')').css('backgroundPosition', '-3px 0');
                $(parEl).find('i:eq(' + n + ')').animate({
                    'backgroundPosition': '（-3px 0px）'
                }, 500);
                //  $i.css('backgroundPosition', '-3px 0');
                //console.log( $i);
                //  console.log($('i :eq('+n+')'));
                // console.log('a');
                //    console.log(n);
                break;
            case 1:
                $(parEl).find('i:eq(' + n + ')').animate({
                    'backgroundPosition': '（-3px -30px）'
                }, 500);
                // $('i:eq('+n+')').css('backgroundPosition', '-3px -30px');
                //  $('i').css('backgroundPosition', '-3px -30px');
                //console.log( $('i :eq(0)'));
                //    console.log('b');
                //  console.log(n);
                break;
            case 2:
                $(parEl).find('i:eq(' + n + ')').animate({
                    'backgroundPosition': '（-3px -60px）'
                }, 500);
                //  console.log('c');
                break;
            case 3:
                $(parEl).find('i:eq(' + n + ')').animate({
                    'backgroundPosition': '（-3px -90px）'
                }, 500);
                // console.log('d');
                break;
            case 4:
                $(parEl).find('i:eq(' + n + ')').animate({
                    'backgroundPosition': '（-3px -120px）'
                }, 500);
                //console.log('e');
                break;
            case 5:
                $(parEl).find('i:eq(' + n + ')').animate({
                    'backgroundPosition': '（-3px -150px）'
                }, 500);
                //console.log('f');
                break;
            case 6:
                $(parEl).find('i:eq(' + n + ')').animate({
                    'backgroundPosition': '（-3px -180px）'
                }, 500);
                //console.log('g');
                break;
            case 7:
                $(parEl).find('i:eq(' + n + ')').animate({
                    'backgroundPosition': '（-3px -210px）'
                }, 500);
                //console.log('h');
                //console.log(n);
                break;
            case 8:
                $(parEl).find('i:eq(' + n + ')').animate({
                    'backgroundPosition': '（-3px -240px）'
                }, 500);
                // console.log('i');
                // console.log(n);
                break;
            case 9:
                $(parEl).find('i:eq(' + n + ')').animate({
                    'backgroundPosition': '（-3px -270px）'

                }, 500);
                // console.log('j');
                // console.log(n);
                break;
        }

    }


    var setTimer = null;
    var setTimee = null;
    setTimer = setInterval(
            function () {
                syjhz()
            }, 1000
    );
</script>
</html>